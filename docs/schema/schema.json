{"name":"point_app","desc":"","tables":[{"name":"migrations","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"applied_at","type":"datetime","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"migrations","columns":["id"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"migrations","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `migrations` (\n  `id` varchar(255) NOT NULL,\n  `applied_at` datetime DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3"},{"name":"transactions","type":"BASE TABLE","comment":"取引","columns":[{"name":"id","type":"bigint unsigned","nullable":false,"default":null,"comment":"取引の識別子","extra_def":"auto_increment"},{"name":"sending_user_id","type":"bigint unsigned","nullable":false,"default":null,"comment":"送信ユーザのID"},{"name":"receiving_user_id","type":"bigint unsigned","nullable":false,"default":null,"comment":"受信ユーザのID"},{"name":"transaction_point","type":"int","nullable":false,"default":null,"comment":"取引ポイント"},{"name":"transaction_at","type":"datetime(6)","nullable":false,"default":null,"comment":"取引日時"}],"indexes":[{"name":"fk_receiving_user_id","def":"KEY fk_receiving_user_id (receiving_user_id) USING BTREE","table":"transactions","columns":["receiving_user_id"],"comment":""},{"name":"fk_sending_user_id","def":"KEY fk_sending_user_id (sending_user_id) USING BTREE","table":"transactions","columns":["sending_user_id"],"comment":""},{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"transactions","columns":["id"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"transactions","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""},{"name":"transactions_ibfk_1","type":"FOREIGN KEY","def":"FOREIGN KEY (receiving_user_id) REFERENCES users (id)","table":"transactions","referenced_table":"users","columns":["receiving_user_id"],"referenced_columns":["id"],"comment":""},{"name":"transactions_ibfk_2","type":"FOREIGN KEY","def":"FOREIGN KEY (sending_user_id) REFERENCES users (id)","table":"transactions","referenced_table":"users","columns":["sending_user_id"],"referenced_columns":["id"],"comment":""}],"triggers":[],"def":"CREATE TABLE `transactions` (\n  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '取引の識別子',\n  `sending_user_id` bigint unsigned NOT NULL COMMENT '送信ユーザのID',\n  `receiving_user_id` bigint unsigned NOT NULL COMMENT '受信ユーザのID',\n  `transaction_point` int NOT NULL COMMENT '取引ポイント',\n  `transaction_at` datetime(6) NOT NULL COMMENT '取引日時',\n  PRIMARY KEY (`id`),\n  KEY `fk_receiving_user_id` (`receiving_user_id`),\n  KEY `fk_sending_user_id` (`sending_user_id`),\n  CONSTRAINT `transactions_ibfk_1` FOREIGN KEY (`receiving_user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE,\n  CONSTRAINT `transactions_ibfk_2` FOREIGN KEY (`sending_user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='取引'"},{"name":"users","type":"BASE TABLE","comment":"ユーザー","columns":[{"name":"id","type":"bigint unsigned","nullable":false,"default":null,"comment":"ユーザーの識別子","extra_def":"auto_increment"},{"name":"family_name","type":"varchar(256)","nullable":false,"default":null,"comment":"苗字"},{"name":"family_name_kana","type":"varchar(256)","nullable":false,"default":null,"comment":"苗字カナ"},{"name":"first_name","type":"varchar(256)","nullable":false,"default":null,"comment":"名前"},{"name":"first_name_kana","type":"varchar(256)","nullable":false,"default":null,"comment":"名前カナ"},{"name":"email","type":"varchar(256)","nullable":false,"default":null,"comment":"メールアドレス"},{"name":"password","type":"varchar(256)","nullable":false,"default":null,"comment":"パスワードハッシュ"},{"name":"sending_point","type":"int","nullable":false,"default":null,"comment":"送信可能ポイント"},{"name":"created_at","type":"datetime(6)","nullable":false,"default":null,"comment":"レコード作成日時"},{"name":"update_at","type":"datetime(6)","nullable":false,"default":null,"comment":"レコード修正日時"}],"indexes":[{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"users","columns":["id"],"comment":""},{"name":"uix_email","def":"UNIQUE KEY uix_email (email) USING BTREE","table":"users","columns":["email"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"users","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""},{"name":"uix_email","type":"UNIQUE","def":"UNIQUE KEY uix_email (email)","table":"users","referenced_table":null,"columns":["email"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `users` (\n  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT 'ユーザーの識別子',\n  `family_name` varchar(256) NOT NULL COMMENT '苗字',\n  `family_name_kana` varchar(256) NOT NULL COMMENT '苗字カナ',\n  `first_name` varchar(256) NOT NULL COMMENT '名前',\n  `first_name_kana` varchar(256) NOT NULL COMMENT '名前カナ',\n  `email` varchar(256) NOT NULL COMMENT 'メールアドレス',\n  `password` varchar(256) NOT NULL COMMENT 'パスワードハッシュ',\n  `sending_point` int NOT NULL COMMENT '送信可能ポイント',\n  `created_at` datetime(6) NOT NULL COMMENT 'レコード作成日時',\n  `update_at` datetime(6) NOT NULL COMMENT 'レコード修正日時',\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `uix_email` (`email`) USING BTREE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='ユーザー'"}],"relations":[{"table":"transactions","columns":["receiving_user_id"],"cardinality":"Zero or more","parent_table":"users","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (receiving_user_id) REFERENCES users (id)","virtual":false},{"table":"transactions","columns":["sending_user_id"],"cardinality":"Zero or more","parent_table":"users","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (sending_user_id) REFERENCES users (id)","virtual":false}],"functions":[],"driver":{"name":"mysql","database_version":"8.0.31","meta":{"dict":{"Functions":"Stored procedures and functions"}}}}
